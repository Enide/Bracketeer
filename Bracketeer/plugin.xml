<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="com.chookapp.org.bracketeer.processorsFactory" name="BracketeerProcessorsFactory" schema="schema/com.chookapp.org.bracketeer.processorsFactory.exsd"/>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="Bracketeer.preferencePages.Main"
            class="com.chookapp.org.bracketeer.preferences.HighlightingBracketsPrefPage"
            id="Bracketeer.preferencePages.Main.BracketHighlighting"
            name="Bracket Highlighting">
      </page>
      <page
            category="org.eclipse.ui.preferencePages.Editors"
            class="com.chookapp.org.bracketeer.preferences.MainPrefPage"
            id="Bracketeer.preferencePages.Main"
            name="Bracketeer">
      </page>
      <page
            category="Bracketeer.preferencePages.Main"
            class="com.chookapp.org.bracketeer.preferences.HintsPrefPage"
            id="Bracketeer.preferencePages.Main.Hint"
            name="Hints">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.chookapp.org.bracketeer.preferences.PreferencesInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="com.chookapp.org.bracketeer.core.Startup"></startup>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar
               id="bracketeer.Toolbar.EnableSurroundingBrackets"
               label="Enable surrounding brackets">
            <command
                  commandId="bracketeer.Commands.EnableSurroundingBrackets"
                  label="Enable surrounding brackets"
                  style="toggle"
                  tooltip="Enable showing the brackets surrounding the cursor">
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            description="Enable showing the brackets surrounding the cursor"
            id="bracketeer.Commands.EnableSurroundingBrackets"
            name="Enable surrounding brackets">
         <state
               class="com.chookapp.org.bracketeer.commands.BracketeerToggleState:Surrounding.Enable"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.chookapp.org.bracketeer.commands.BracketeerToggleCommandHendler"
            commandId="bracketeer.Commands.EnableSurroundingBrackets">
         <enabledWhen>
            <with
                  variable="com.chookapp.org.bracketeer.pluginName">
               <not>
                  <equals
                        value="">
                  </equals>
               </not>
            </with>
         </enabledWhen>
         <activeWhen>
            <with
                  variable="com.chookapp.org.bracketeer.pluginName">
               <not>
                  <equals
                        value="">
                  </equals>
               </not>
            </with>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="com.chookapp.org.bracketeer.commands.SourceProvider">
         <variable
               name="com.chookapp.org.bracketeer.pluginName"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>

</plugin>
